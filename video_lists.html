<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no" />
    <meta name="full-screen" content="yes">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>详情页面</title>
    <!--flexible布局-->
    <script src="js/common/flexible.js"></script>
    <!--公共引用-->
    <script src="js/common/jquery-2.1.4.js"></script>
    <!-- 公共头部js -->
    <script src="js/index_top.js"></script>
    <link rel="stylesheet" href="plug/layui/css/layui.mobile.css">
    <link rel="stylesheet" href="plug/layui/css/layui.css" media="all">
    <link rel="stylesheet" href="css/common/swiper.min.css">
    <link rel="stylesheet" href="css/common/iconfont.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/detail.css">
    <link rel="stylesheet" href="css/video_list.css">
    <script src="//imgcache.qq.com/open/qcloud/video/vcplayer/TcPlayer-2.2.1.js" charset="utf-8"></script>
</head>

<body>
    <div class="search_con">
      <!-- 公共搜索 -->  
    </div>
    <div class="top_list_detail">
       <!-- 公共头部 -->
    </div>
    <div class="catalogue">
        <!-- 公共目录 -->
        <div class="top_nav">
            <!-- 公共头部 -->
        </div>
    </div>
    <div class="content">
        <ul>
            <li class="video_lists">
                <div class="video_list_img">
                    <img class="video_img" src="img/detail/video_05.png">
                   <div class="pause_iconfont">
                       <i class="iconfont">&#xe696;</i>
                   </div>
                </div>
                <div class="video_lists_div">
                    <p class="video_list_title">寒痰湿痰及次食生痰不宜用寒痰湿痰及次食生痰不宜用</p>
                    <p class="clear video_list_con">
                        <a href="javascipt:;" class="play_time">播放次数：<span>3654</span>次</a>
                        <a href="javascipt:;" class="video_pause">
                            <i class="iconfont iconfont_shares">&#xe681;</i>
                            <span class="margin_right_video"> 16 </span>
                            <i class="iconfont iconfont_share">&#xe60f;</i>
                        </a>
                    </p>
                    
                </div>
            </li>

            <li class="video_lists">
                <div class="video_list_img">
                    <img class="video_img" src="img/detail/video_05.png">
                    <div class="pause_iconfont">

                       <i class="iconfont">&#xe696;</i>
                   </div>
                </div>
                <div class="video_lists_div">
                    <p class="video_list_title">寒痰湿痰及次食生痰不宜用寒痰湿痰及次食生痰不宜用</p>
                    <p class="clear video_list_con">
                        <a href="javascipt:;" class="play_time">播放次数：<span>3654</span>次</a>
                        <a href="javascipt:;" class="video_pause">
                            <i class="iconfont iconfont_shares">&#xe681;</i>
                            <span class="margin_right_video"> 16 </span>
                            <i class="iconfont iconfont_share">&#xe60f;</i>
                        </a>
                    </p>
                    
                </div>
            </li>


             <li class="video_lists">
                <div class="video_list_img">
                    <img class="video_img" src="img/detail/video_05.png">
                    <div class="pause_iconfont">
                       <i class="iconfont">&#xe696;</i>
                    </div>
                </div>
                <div class="video_lists_div">
                    <p class="video_list_title">寒痰湿痰及次食生痰不宜用寒痰湿痰及次食生痰不宜用</p>
                    <p class="clear video_list_con">
                        <a href="javascipt:;" class="play_time">播放次数：<span>3654</span>次</a>
                        <a href="javascipt:;" class="video_pause">
                            <i class="iconfont iconfont_shares">&#xe681;</i>
                            <span class="margin_right_video"> 16 </span>
                            <i class="iconfont iconfont_share">&#xe60f;</i>
                        </a>
                    </p>
                    
                </div>
            </li>


             <li class="video_lists">
                <div class="video_list_img">
                    <img class="video_img" src="img/detail/video_05.png">
                   <div class="pause_iconfont">
                       <i class="iconfont">&#xe696;</i>
                   </div>
                </div>
                <div class="video_lists_div">
                    <p class="video_list_title">寒痰湿痰及次食生痰不宜用寒痰湿痰及次食生痰不宜用</p>
                    <p class="clear video_list_con">
                        <a href="javascipt:;" class="play_time">播放次数：<span>3654</span>次</a>
                        <a href="javascipt:;" class="video_pause">
                            <i class="iconfont iconfont_shares">&#xe681;</i>
                            <span class="margin_right_video"> 16 </span>
                            <i class="iconfont iconfont_share">&#xe60f;</i>
                        </a>
                    </p>
                    
                </div>
            </li>
        </ul>
        
    </div>
    <div class="fixed_praise praise_background_video">
        <ul class="praise_list">
            <li>
                <i class="iconfont">&#xe62c;</i><span>赞同</span>
            </li>
            <li>
                <i class="iconfont">&#xe61e;</i><span>分享</span>
            </li>
            <li>
                <i class="iconfont">&#xe812;</i><span>收藏</span>
            </li>
            <li>
                <i class="iconfont">&#xe60d;</i><span>评论</span>
            </li>
        </ul>
    </div>

    <div class="video_container">
        <div id="id_test_video" style="width:100%; height:5.63rem"></div>
    </div>
</body>


<!--layui框架.js-->
<script src="plug/layui/layui.js"></script>
<!--swiper-->
<script src="js/common/swiper.min.js"></script>
<!-- 公共底部js -->
<script src="js/index_footer.js"></script>
<!-- 本页面js -->
<script>
    var mySwiper = new Swiper ('.swiper-container', {
        loop: true,
        autoplay: {
            delay: 2000,
            disableOnInteraction: false,
        },
        initialSlide: 0,
        observer: true,//修改swiper自己或子元素时，自动初始化swiper
        observeParents: true,//修改swiper的父元素时，自动初始化swiper
        onSlideChangeEnd: function (swiper) {
            swiper.update();
            mySwiper.startAutoplay();
            mySwiper.reLoop();
        },
        pagination: {
            el: '.swiper-pagination',
           // clickable: true,
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
    
    }) 

    var video_list = $(".video_lists");
    var video = $(".video_list_img");
    var video_play = $("video");
    var pause_iconfont = $(".pause_iconfont");
    video.on("click",  function (e) {

        if (player != undefined && player != null) {
            player.destroy();
        } 

        player = new TcPlayer('id_test_video', {
            "m3u8": "http://1253453563.vod2.myqcloud.com/2e17e7c4vodgzp1253453563/2b93b0134564972819267043647/EFsLlyu2zJIA.mp4", //请替换成实际可用的播放地址
            "autoplay" : true,      //iOS下safari浏览器，以及大部分移动端浏览器是不开放视频自动播放这个能力的
            "width" :  '100%',//视频的显示宽度，请尽量使用视频分辨率宽度
            "height" : '100%',//视频的显示高度，请尽量使用视频分辨率高
            "listener": function () {
                if (!player.playing()) {
                    $(".video_container").hide();
                }
            }
        })

       $(".video_container").css("top", $(this).offset().top);
       $(".video_container").show();
       player.play(); 


       $(".vcp-controls-panel").append('<div class="pause_iconfont pause_iconfonts"><i class="iconfont">&#xe629;</i></div>');
            $(".pause_iconfonts").on("click", function () {
            player.pause();
            $(".video_container").hide();

        }) 
       
    })

    

    var player = new TcPlayer('id_test_video', {
        "m3u8": "http://1253453563.vod2.myqcloud.com/2e17e7c4vodgzp1253453563/2b93b0134564972819267043647/EFsLlyu2zJIA.mp4", //请替换成实际可用的播放地址
        "autoplay" : true,      //iOS下safari浏览器，以及大部分移动端浏览器是不开放视频自动播放这个能力的
        "width" :  '100%',//视频的显示宽度，请尽量使用视频分辨率宽度
        "height" : '100%',//视频的显示高度，请尽量使用视频分辨率高
        "listener": function () {  
            setTimeout(function() {
                if (!player.playing()) {
                    $(".video_container").hide();
                }
            },500)    
            
        }
    })

    $(".vcp-controls-panel").append('<div class="pause_iconfont pause_iconfonts"><i class="iconfont">&#xe629;</i></div>');
    $(".pause_iconfonts").on("click", function () {
        player.pause();
        $(".video_container").hide();

    })
</script>
</html>